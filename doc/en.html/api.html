<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="stylesheet" integrity="sha256-0O4oUru9UY7vn1CSvUvDVWXnROdCOyn8kg3QJoEMMYg=" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/vtl@21.12.14/markdown.css" />
<title>
VTL API
</title>
</head>
<body>
<h1 id="vtl-api">VTL API</h1>
<h2 id="javascript-api">JavaScript API</h2>
<p><code>VTL.createView(component_id: string)</code> creates a view for the component <code>component_id</code>. Returns <code>VTL.Promise</code> after successfully discovering the component and loading the view data.</p>
<p><code>VTL.createForm(component_id: string)</code> creates a form for the component <code>component_id</code>. Returns <code>VTL.Promise</code> after successfully detecting the component and initializing the form.</p>
<p><code>VTL.error(type: string, message: string, location: string)</code>: displays an error message.</p>
<h3 id="handlers">Handlers</h3>
<p><code>VTL.initialPOST</code> sends an initial POST with a query string from the URL.</p>
<p><code>VTL.updateMathJax</code> updates the formula view when using MathJax.</p>
<p>Using handlers:</p>
<pre><code>VTL.createForm(&quot;login&quot;).then(VTL.initialPOST);
</code></pre>
<h3 id="vtlcomponent">VTL.Component</h3>
<p><code>new VTL.Component(id: string)</code> creates a new <code>VTL.Component</code>.</p>
<p><code>component.id: string</code>: component ID.</p>
<p><code>component.model: XMLDocument</code>: component model.</p>
<p><code>component.view: HTMLElement</code>: component view.</p>
<h3 id="vtlpromise">VTL.Promise</h3>
<p><code>component.promise(executor)</code> returns a promise, bound to this component.</p>
<p><code>executor: resolve =&gt; void</code> is a function, to be executed by the constructor, during the process of constructing the new promise.</p>
<p><code>resolve(status: string)</code> invokes the next promise in the chain, bound to this component.</p>
<p><code>VTL.Promise</code> allows multiple calls of <code>resolve</code> inside a function <code>executor</code> and nested asynchronous functions. Every time you call <code>resolve</code> all subsequent promises will be invoked.</p>
<p><code>reject(reason)</code> is not supported in <code>VTL.Promise</code>. <code>VTL.error</code> is used instead.</p>
<p><code>promise.then(onFulfilled)</code> adds a fulfillment handler to the promise and returns a new promise.</p>
<p><code>onFulfilled: component =&gt; VTL.Promise</code>: the fulfillment handler must return an object of type <code>VTL.Promise</code>.</p>
<p><code>catch(onRejected)</code> is not supported in <code>VTL.Promise</code>. <code>VTL.error</code> is used instead.</p>
<h2 id="css-classes">CSS classes</h2>
<p><code>.A4</code> = <code>.w-A4</code> + <code>.mx-auto</code>.</p>
<p><code>.A5</code> = <code>.w-A5</code> + <code>.mx-auto</code>.</p>
<p><code>.A6</code> = <code>.w-A6</code> + <code>.mx-auto</code>.</p>
<p><code>.subquery, #subquery</code>: when clicked adds the current query string to the attribute <code>href</code>.</p>
<p><code>.btn-back, #btn-back</code>: button &quot;Back&quot;.</p>
<p><code>.btn-print, #btn-print</code>: button &quot;Print&quot;.</p>
<p><code>.btn-reload, #btn-reload</code> button &quot;Refresh&quot;.</p>
<p><code>.form-floating-group</code> vertical input group for <code>.form-floating</code>.</p>
<p><code>.fw-300</code> = <code>font-weight: 300</code>.</p>
<p><code>.fw-500</code> = <code>font-weight: 500</code>.</p>
<p><code>.inner-my-0</code> removes the top margin of the first child element and the bottom margin of the last child element.</p>
<p><code>.text-shadow</code> adds <code>text-shadow</code>.</p>
<p><code>.w-A4</code> sets the maximum length = A4 (40em, because 40em * 12pt (font size) = almost 170mm = 210mm (A4) -20mm left -20mm right).</p>
<p><code>.w-A5</code> sets the maximum length = A5 (30em, because 30em * 12pt (font size) = almost 128mm = 148mm (A5) -10mm left -10mm right).</p>
<p><code>.w-A6</code> sets the maximum length = A6 (20em, because 20em * 12pt (font size) = almost 85mm = 105mm (A6) -10mm left -10mm right).</p>
<p><code>.w-min</code> = <code>width: min-content</code>.</p>
<p><code>.w-max</code> = <code>width: max-content</code>.</p>
<h2 id="html">HTML</h2>
<p>The location of the backend server can be changed using the HTML tag:</p>
<pre><code>&lt;link id=&quot;server&quot; href=&quot;http://vaskovsky.net/vtl/sample/en/&quot; rel=&quot;preconnect&quot;/&gt;
</code></pre>
<p>where <code>http://vaskovsky.net/vtl/sample/en/</code> is the address of your backend server.</p>
<h2 id="files">Files</h2>
<p><code>btn-back.js</code> implements <code>.btn-back, #btn-back</code> without framework.</p>
<p><code>btn-print.js</code> implements <code>.btn-print, #btn-print</code> without framework.</p>
<p><code>btn-reload.js</code> implements <code>.btn-reload, #btn-print</code> without framework.</p>
<p><code>datepicker3.js</code>: date picker for Bootstrap 3.</p>
<p><code>framework.js</code>: JavaScript framework.</p>
<p><code>vtl.js</code>: minimized version of the file <code>framework.js</code>.</p>
<p><code>vtl.ie6.js</code>: IE6-compatible implementation for <code>btn-*</code> (uses <code>id</code> instead of classes).</p>
<p><code>vtl.css</code>: CSS style set.</p>
<p><code>style.css</code> = <code>vtl.css</code> + questionable changes to the styles of standard elements.</p>
<p><code>markdown.css</code>: minimum set of styles for simple text documents.</p>
<hr />
<p><a href="index.html">â†© VTL</a></p>
</body>
</html>
