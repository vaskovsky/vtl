<!--
	Copyright Â© 2017 Alexey Vaskovsky.

	This file is part of VTL.

	VTL is free software: you can redistribute it and/or modify
	it under the terms of the GNU Lesser General Public License
	as published by the Free Software Foundation, either version 3
	of the License, or (at your option) any later version.

	VTL is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
	GNU Lesser General Public License for more details.

	You should have received a copy of the GNU Lesser General Public
	License along with VTL. If not, see <http://www.gnu.org/licenses/>.
-->
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<!--
		The above 3 meta tags *must* come first in the head;
		any other head content must come *after* these tags
	-->

	<title>Integer division</title>

	<!-- Bootstrap core CSS -->
	<link
		rel="stylesheet"
		href="./bower_components/bootstrap/dist/css/bootstrap.min.css"
	/>
	<link
		rel="stylesheet"
		href="./bower_components/bootstrap/dist/css/bootstrap-theme.min.css"
	/>

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
		<script src="./bower_components/html5shiv/dist/html5shiv.min.js"></script>
		<script src="./bower_components/respond/dest/respond.min.js"></script>
	<![endif]-->
</head>
<body>
	<div class="container" role="main">
		<div class="page-header">
			<h1>Integer division</h1>
		</div>
		<form id="division" class="form-horizontal">
			<div class="form-group">
				<label class="col-sm-2 control-label">Dividend:</label>
				<div class="col-sm-10">
					<input id="dividend" type="number" min="0"/>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label">Divisor:</label>
				<div class="col-sm-10">
					<input id="divisor" type="number" min="1"/>
				</div>
			</div>
			<div class="form-group">
				<div class="col-sm-offset-2 col-sm-10">
					<button type="submit">Calculate</button>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label">Quotient:</label>
				<div class="col-sm-10">
					<output id="quotient"></output>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label">Remainder:</label>
				<div class="col-sm-10">
					<output id="remainder"></output>
				</div>
			</div>
		</form>
	</div><!-- /.container -->

	<!-- Bootstrap core JavaScript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="./bower_components/jquery/dist/jquery.min.js"></script>
	<script	src="./bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
	<script>
		// initialization
		$.getJSON("php/index.read.php" + document.location.search)
		.then(function(response)
		{
			$("#dividend").val(response.dividend);
			$("#divisor").val(response.divisor);
			$("#quotient").text(response.quotient);
			$("#remainder").text(response.remainder);
		})
		.fail(function(response)
		{
			console.error(response.responseText);
		});

		// calculation
		$("#division").submit(function(e)
		{
			e.preventDefault();
			$.post("php/index.update.php",
			{
				dividend: $("#dividend").val(),
				divisor: $("#divisor").val()
			})
			.then(function(response)
			{
				$("#quotient").text(response.quotient);
				$("#remainder").text(response.remainder);
			})
			.fail(function(response)
			{
				$("#quotient").text("undefined");
				$("#remainder").text("undefined");
				alert(response.responseText);
			});
		});
	</script>
</body>
</html>
